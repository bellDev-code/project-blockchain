<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="./user_data.js"></script>
    <script>
      // 몇 개의 데이터가 있는지 모르므로, for문 돌린다.
      // (2) oUser는 비어있는 오브젝트
      const oUser = {};
      // oUser["female"] = 1;
      // console.log(oUser["female"])

      // oUser = {
      //  "female" : 1,
      //  "male" : 1
      // }

      // 순서를 보장하지 않는다.
      // for (const key in userList) {
      //   console.log(key);
      // }

      // (1) 첫 번째 gender 값은 female
      for (const user of userList) {
        // console.log(oUser[user.gender]);
        // (3) if 조건을 통해 female, male 값을 확인한다.
        if (oUser[user.gender]) {
          oUser[user.gender] += 1;
          // oUser["female"] = 2; 3인덱스
        } else {
          oUser[user.gender] = 1;
          // oUser["female"] = 1; 0인덱스
          // oUser["male"] = 1; 1인덱스
        }
      }

      // console.table(oUser);

      // Map 객체
      // size()를 통해서 값의 개수를 구할 수 있다.
      const key1 = { keyname: 2 };
      const key2 = [2, 3, 4, 5];

      const myMap = new Map();
      myMap.set("female", 1);

      for (const user of userList) {
        if (myMap.has(user.gender)) {
          myMap.set(user.gender, myMap.set(user.gender) + 1);
        } else {
          myMap.set(user.gender, 1);
        }
      }

      myMap.forEach(function (value, key) {
        // console.log(key, value);
      });
      // console.log(myMap.get("female"));
      // console.log(myMap.has("female"));

      // const apples = {
      //   name: "Apples",
      // };

      // myMap.set(apples, 1200);
      // console.log(myMap.get(apples));

      // set 객체

      const arr = [];
      arr.push(1);
      arr.push(3);

      // console.log(arr);

      // 유일한 값이여야 한다.
      const mySet = new Set();

      mySet.add(1);
      mySet.add(3);
      mySet.add(12);
      mySet.add(3);
      mySet.has(3); // 값을 체크하는 기능을 가진 has()

      // mySet.clear(); // 값을 전부 비운다.

      // console.log(mySet);
    </script>
    <script>
      // Map 객체
      // userList에 있는 age를 이용하여
      // 각 연령대 별로 몇명의 사용자가 있는지 확인하는 프로그램 작성
      // return 각 연령대 별로 몇명 있는지

      function getAgeGroup() {
        let userAgeMap = [];
        userAgeMap.set("10g", 0);
        userAgeMap.set("20g", 0);
        userAgeMap.set("30g", 0);
        userAgeMap.set("40g", 0);

        for (const user of userList) {
          if (user.age >= 20 && user.age < 30) {
            userAgeMap.set("20g", userAgeMap.get("20g", +1));
          } else if (user.age >= 30 && user.age < 40) {
            userAgeMap.set("30g", userAgeMap.get("30g", +1));
          } else if (user.age >= 40 && user.age < 50) {
            userAgeMap.set("40g", userAgeMap.get("40g", +1));
          }
        }
        return userAgeMap;
      }

      function getAgeGroup2() {
        let userAgeGroup = new Map();

        for (const user of userList) {
          let ageGroup = "";
          if (user.age > 10) {
            ageGroup = 0;
          } else if (user.age >= 100) {
            ageGroup = user.age.toString().substr(0, 2) + "0";
          } else {
            ageGroup = user.age.toString().charAt(0) + "0";
          }

          // let ageGroup = user.age.toString().charAt(0) + "0";

          if (userAgeGroup.has(ageGroup)) {
            userAgeGroup.set(ageGroup, userAgeGroup.get(ageGroup) + 1);
          } else {
            userAgeGroup.set(ageGroup, 1);
          }
        }
        return userAgeGroup;
      }

      // console.log(getAgeGroup2());
    </script>
    <script>
      function getAgeGroup3() {
        let userAgeGroup = {};

        for (const user of userList) {
          let ageGroup = user.age.toString().charAt(0) + "0";
          // console.log(ageGroup);

          if (userAgeGroup[ageGroup]) {
            userAgeGroup[ageGroup] = userAgeGroup[ageGroup] + 1;
          } else {
            userAgeGroup[ageGroup] = 1;
          }
        }
        return userAgeGroup;
      }

      console.log(getAgeGroup3());
    </script>
  </body>
</html>
